(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const a=e=>{var t=e.toString(),r=t.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return t.replace(r,"$1,")},c=(e,t,r,n)=>{if(r==="property"){document.documentElement.style.setProperty(e,t);return}if(r==="content"){document.querySelector(e).textContent=t;return}if(r!=="content"&&r!=="property"&&!n){document.querySelector(e).style[r]=t;return}if(r!=="content"&&r!=="property"&&n){document.querySelectorAll(e).forEach(o=>{o.style[r]=t});return}},f=async e=>{try{return{amount:3770297,percent:75,target:5e6,count:1633}}catch(t){return console.error(t),{amount:0,percent:0,target:1e8,count:0}}},m=(e,t)=>{const o=((t*2-e)/e-1)/(e-1);let s=1;const i=[];for(let l=1;l<=e;l++)i.push(s),s+=o;return i},h=(e,t)=>{if(e===0){c(t,`${e}%`,"content");return}if(e>=50){const o=m(100,e);let s=0,i=0;const l=setInterval(()=>{i<o.length?(s+=o[i],c(t,`${Math.trunc(s)}%`,"content")):(clearInterval(l),c(t,`${e}%`,"content")),i++},3e3/100);return}if(e<50){const r=Math.trunc(3e3/e);let n=0;const o=setInterval(()=>{n+=1,c(t,`${n}%`,"content"),(n>=e||e===0)&&(c(t,`${e}%`,"content"),clearInterval(o))},r);return}},d=(e,t)=>{if(e===0){c(t,`\u8D0A\u52A9\u4EBA\u6578: ${a(e)}\u4EBA`,"content");return}if(e>=50){const o=m(100,e);let s=0,i=0;const l=setInterval(()=>{i<o.length?(s+=o[i],c(t,`\u8D0A\u52A9\u4EBA\u6578: ${a(Math.trunc(s))}\u4EBA`,"content")):(clearInterval(l),c(t,`\u8D0A\u52A9\u4EBA\u6578: ${a(e)}\u4EBA`,"content")),i++},3e3/100);return}if(e<50){const r=Math.trunc(3e3/e);let n=0;const o=setInterval(()=>{n+=1,c(t,`\u8D0A\u52A9\u4EBA\u6578: ${a(n)}\u4EBA`,"content"),(n>=e||e===0)&&(c(t,`\u8D0A\u52A9\u4EBA\u6578: ${a(e)}\u4EBA`,"content"),clearInterval(o))},r);return}},j=e=>{const t="white",r="#DE5E3B";e>=25&&setTimeout(()=>{c(".phase-1 > p",t,"color")},300),e>=50&&setTimeout(()=>{c(".phase-2 > p",t,"color")},600),e>=75&&setTimeout(()=>{c(".phase-3 > p",t,"color")},1e3),e>=99&&setTimeout(()=>{c(".phase-4 > p",t,"color"),c(".progressbar-progress",r,"background-color"),c(".inside-circle",r,"color"),c(".mask .fill",r,"background-color","all")},1500)},y=e=>{const t=document.querySelectorAll('[data-id="progress"]'),r=(o,s)=>{const[i]=o;!i.isIntersecting||(i.target.id==="loader-container"&&(c("#loader-container","none","display"),c("#progress-container","block","display")),i.target.classList[0]==="subscribe-card-sponsors"&&d(e,".subscribe-card-sponsors"),s.unobserve(i.target))},n=new IntersectionObserver(r,{root:null,threshold:.1,rootMargin:"5px"});t.forEach(o=>n.observe(o))},b=async()=>{let{amount:e,percent:t,target:r,count:n}=await f();t=t>999?999:t;const o=t>100?100:t,s=t*180/100>180?180:t*180/100;c(".subscribe-card-current",`NT$ ${a(e)}`,"content"),c(".subscribe-card-goal",`\u76EE\u6A19\u91D1\u984D: NT$ ${a(r)}`,"content"),c("--circular-deg",`${s}deg`,"property"),c("--progress",`${o}%`,"property"),c("--percent",t,"property"),h(t,".inside-circle"),j(t),window.innerWidth<768?y(n):(d(n,".subscribe-card-sponsors"),c("#loader-container","none","display"),c("#progress-container","block","display"))},w=()=>{document.querySelectorAll("#official-website").forEach(t=>{t.addEventListener("click",r=>{fbq("track","AddToCart",{content_name:r.currentTarget.getAttribute("aria-title"),content_category:"Sponsor & Aceess from Button",content_ids:[r.currentTarget.getAttribute("aria-value")],content_type:"product",value:r.currentTarget.getAttribute("aria-value"),currency:"TWD"})},!1)})},u=e=>{const t=document.getElementById("myPopup");t.classList.contains("show")||(t.textContent=e,t.classList.add("show"),setTimeout(()=>{t.classList.remove("show")},1e3))},A=e=>async()=>{const t=document.querySelector(e).textContent;try{await navigator.clipboard.writeText(t),u("\u7DB2\u5740\u5DF2\u8907\u88FD\uFF01")}catch{u("\u8907\u88FD\u5931\u6557\uFF01")}},S=(e,t,r)=>{document.querySelector(t).addEventListener(e,A(r))},g=e=>{const[t,r,n]=[document.querySelector(".share-close"),document.querySelector(".share-bg"),document.querySelector(".share-btn")];if(e==="mobile"){n.addEventListener("click",async()=>{try{await navigator.share({title:document.title,text:"\u5E0C\u671B\u99AC\u5834\u8EAB\u5FC3\u969C\u7919\u8005\u6CBB\u7642\u52DF\u6B3E\u8A08\u756B",url:window.location.href})}catch{console.log("\u5931\u6557\uFF01")}});return}n.addEventListener("pointerdown",()=>{r.style.display="flex"}),t.addEventListener("pointerdown",o=>{o.stopPropagation(),r.style.display="none"}),r.addEventListener("pointerdown",o=>{o.currentTarget===o.target&&(o.currentTarget.style.display="none")})},p=e=>new Promise(t=>{const r=new Image;r.src=e,r.addEventListener("load",()=>{const n=document.querySelector(`img[data-src="${e}"]`);n.src=r.src,n.classList.remove("lazy-img"),t()})}),q=async()=>{const e=["/img/banner-20230118-144514.jpg","/img/project1-20230118-144515.jpg","/img/project2-20230118-144515.jpg","/img/project3-20230118-144514.jpg","/img/project4-20230118-144514.jpg","/img/project5-20230118-144514.jpg","/img/project6-20230118-144514.jpg","/img/project7-20230118-144514.jpg","/img/project8-20230118-144514.jpg","/img/project9-20230118-144514.jpg"],t=["/img/project10-20230118-144515.jpg","/img/project11-20230118-144515.jpg","/img/project12-20230118-144514.jpg","/img/project13-20230118-144514.jpg","/img/project14-20230118-144514.jpg","/img/project15-20230118-144514.jpg","/img/project16-20230118-144515.jpg","/img/project17-20230118-144515.jpg","/img/project18-20230118-144514.jpg","/img/project19-20230118-144514.jpg","/img/project20-20230118-144514.jpg"],r=["/img/project21-20230118-144514.jpg","/img/project22-20230118-144514.jpg","/img/project23-20230118-144515.jpg","/img/project24-20230118-144514.jpg","/img/project25-20230118-144514.jpg","/img/project26-20230118-144514.jpg","/img/project27-20230118-144514.jpg","/img/project28-20230118-144515.jpg","/img/project29-20230118-144514.jpg","/img/project30-20230118-144514.jpg","/img/project31-20230118-144515.jpg","/img/project32-20230410-144515.jpg"];await Promise.all(e.map(n=>p(n))),await Promise.all(t.map(n=>p(n))),await Promise.all(r.map(n=>p(n)))},E=()=>{document.querySelectorAll(".youtube-link").forEach(e=>e.href="https://www.youtube.com/channel/UCrdUYdAN7PnG4uzdUjLLaaQ"),document.querySelectorAll(".facebook-link").forEach(e=>e.href="https://www.facebook.com/thrct.org"),document.querySelectorAll(".instagram-link").forEach(e=>e.href="https://www.instagram.com/thrct.taiwan/"),document.querySelectorAll(".home-link").forEach(e=>e.href="https://www.thrct.org/"),document.querySelector("#official-website").href="https://www.thrct.org/contents/project_ct?page=1&p_id=12"};function L(){b(),q(),E(),w(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?g("mobile"):(document.querySelector(".popup").style.display="block",S("pointerdown",".share-button",".subscribe-share-target"),g())}L();

